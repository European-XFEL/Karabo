############################################################
# config contains configuration definitions to manage 
# servers and applications used in a localhost device setup
#
# management scripts: 
# 1. karabo-start   - to start karabo processes defined by the START environmental
#                     karabo-start has a single optional parameter "-nox" which controls whether
#	       	  	      the processes are started as individual xterms or accumulated as background jobs
# 2. karabo-stop    - to stop started processes
# 3. karabo-check   - to check the definitions used by test system scripts 
#              	      this script is the only check made of the definitions used
# 4. karabo-restart - to restart any "missing" applications
#                     a candidate to a missing application is the gui which was closed at
#                 	  the end of the last session with all other applications left running.
# 
# author: CY 18.12.2012, largely modified: BH 09.04.2015


##################
#  Broker Hosts  #
##################

# If you are using Karabo at home and run a local broker you can you use directly
#export KARABO_BROKER="tcp://localhost:7777"

# If you are at the European XFEL GmbH you may use this settings
export KARABO_BROKER="tcp://exfl-broker:7777"

# This setting is the default, it will try the XFEL broker first and failover to a local if unsuccessful
#export KARABO_BROKER="tcp://exfl-broker:7777,tcp://localhost:7777"

#################
# Broker Topic  #
#################

# By default your username will become your topic name

# You may want to fix it using:

#export KARABO_BROKER_TOPIC=karabo


#########################################
# Kill Signal (used by karabo-stop)  #
#########################################

KARABO_KILL_SIGNAL=15

###################
# Service Servers #
###################

# Default log level
logger=Logger.priority=INFO

START[0]="karabo-cppserver serverId=karabo/guiServer deviceClasses=GuiServerDevice autoStart[0].GuiServerDevice.port=44444 visibility=4 $logger"

START[1]="karabo-cppserver serverId=karabo/logAggregator deviceClasses=CentralLogging autoStart[0].CentralLogging visibility=4 $logger:0:1000"

START[2]="karabo-cppserver serverId=karabo/dataLogger deviceClasses=DataLogger,DataLogReader visibility=4 $logger"

START[3]="karabo-cppserver serverId=karabo/dataLoggerManager deviceClasses=DataLoggerManager autoStart[0].DataLoggerManager.serverList=\"karabo/dataLogger\" visibility=4 $logger"

START[4]="karabo-cppserver serverId=karabo/projectManager deviceClasses=ProjectManager autoStart[0].ProjectManager visibility=4 $logger"

START[5]="karabo-cppserver serverId=karabo/alarmServer deviceClasses=AlarmService autoStart[0].AlarmService visibility=4 $logger"

START[6]="karabo-middlelayerserver serverId=karabo/macroServer visibility=4"

START[7]="karabo-pythonserver serverId=karabo/projectDBServer deviceClasses=ProjectManager autoStart[0].ProjectManager.deviceId=KaraboProjectDB visibility=4 $logger"

##############
# Server C++ #
##############

START[10]="karabo-cppserver serverId=cppServer/1 Logger.priority=INFO"

#################
# Server Python #
#################

START[20]="karabo-pythonserver serverId=pythonServer/1 Logger.priority=INFO"

######################
# Server MiddleLayer #
######################

START[30]="karabo-middlelayerserver serverId=middlelayerServer/1"

###################
# User Interfaces #
###################

START[40]="karabo-gui"
