DEP_NAME="ipykernel-6.13.0"
DEP_EXT="tar"
EXTRACT_COMMAND="tar -xf $DEP_NAME.$DEP_EXT"
CONFIGURE_COMMAND=
MAKE_COMMAND=
INSTALL_COMMAND="$INSTALL_PREFIX/bin/python3 -m pip install . --no-deps --prefix=$INSTALL_PREFIX && $INSTALL_PREFIX/bin/python3 -m ipykernel install --sys-prefix && cp $PWD/kernel.json $INSTALL_PREFIX/share/jupyter/kernels/python3/"

# the command `python3 -m ipykernel install --sys-prefix `
# will install a kernelspec with an absolute path. This is bad for Karabo relocatable dependencies
# In order to fix this, we overwrite the json spec with an more flexible one.
# This could break in future version of ipykernel, By that time, we hope that this
# dependencies system has been deprecated.
