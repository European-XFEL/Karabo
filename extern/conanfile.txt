[requires]

# Be aware that many will need to be built from source because of C++14 standard,
# C++11 ABI compatability. This only happens once though, as conan then haufs
# cached versions

# exact
amqp-cpp/4.3.16
bzip2/1.0.8
daemontools-encore/1.11-karabo3@karabo/py311
gtest/1.11.0
libxml2/2.9.10
log4cpp/1.1.3@karabo/py311
nlohmann_json/3.2.0
openmq/5.1.3@karabo/py311
openmqc/5.1.4.1@karabo/py311
zeromq/4.3.2

# patch-any
fftw/3.3.8
libpng/1.6.37
libxslt/1.1.34
patchelf/0.13
pugixml/1.10

# minor-any
boost/1.82.0@karabo/py311
cppunit/1.15.1
libjpeg/9c
libtiff/4.0.8

# any
libev/4.33
nss/3.72
# we could use this if we update the framework
# redboltz-mqtt_cpp/13.0.0

# forced - these are pinned to allow conan to resolve dependency conflicts
zlib/1.2.13
sqlite3/3.36.0
openssl/1.0.2t   # Centos7 can only handle newer versions if compiled from source (like patchelf/b2 in build.sh)
# openblas/0.3.20

[generators]
CMakeDeps
CMakeToolchain
deploy
pkg_config

[options]
# We intend to use shared libraries
*:shared=True
# Avoid dependency on libsodium version incompatible with CentOS 7
zeromq:encryption=False

# These options will become relevant, when we install boost using conan
# I keep them here for documentation already, as this is bound to happen.
#
# the boost recipe for conan has an issue with finding libbackrace
# https://github.com/conan-io/conan-center-index/issues/13448
# this likely will be fixed in newer boost releases
#
# boost:with_stacktrace_backtrace=False
#
# build these boost libraries
boost:without_atomic=False
boost:without_date_time=False
boost:without_chrono=False
boost:without_container=False
boost:without_exception=False
boost:without_filesystem=False
boost:without_regex=False
boost:without_thread=False
boost:without_system=False
boost:without_program_options=False
# build libboost_python (for karabo.bound!)
boost:without_python=False
# do not build libboost_numpy
boost:without_numpy=True
# build lapack support with openblas
# openblas:build_lapack=True

[imports]
# the ".."s are because conan install uses $INSTALL_PREFIX/conan_out in build.sh
lib, * -> ../lib
lib64, * -> ../lib64
bin, * -> ../bin
include, * -> ../include
res, * -> ../res
share, * -> ../share
local, * -> ../local
include/libxml2, * -> ../include    # otherwise pip installs have issues
MessageQueue, * -> ../MessageQueue  # for openmq package
