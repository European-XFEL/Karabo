__lint_cpp() {
    cppcheck --error-exitcode=0 --inconclusive --output-file=cppcheck_all_report.txt --enable=all --force $CI_PROJECT_DIR/src/karabo # TODO fix c++ code quality checks
}

__lint_python() {
    flake8 --exclude=*tests* $CI_PROJECT_DIR/src/pythonGui/karabogui
    flake8 --exclude=*tests* $CI_PROJECT_DIR/src/pythonKarabo/karabo
}

# if not run in the gitlab CI environment, one must set this env. variable.
if [ "$CI_PROJECT_DIR" = "" ]; then
    export CI_PROJECT_DIR=$(git rev-parse --show-toplevel)
fi

source activate && conda activate
__lint_cpp
__lint_python
